=== Complete Minting Integration Test (Backend + Worker) ===
Starting Complete Integration Test (Backend + Worker)
====================================================
Checking and setting up test environment...
Setting up Backend canister...
âœ… Backend Canister ID: bkyz2-fmaaa-aaaaa-qaaaq-cai
Setting up Worker canister...
Deploying Worker canister...
Deploying: worker
worker canister created with canister id: be2us-64aaa-aaaaa-qaabq-cai
WARN: Cannot check for vulnerabilities in rust canisters because cargo-audit is not installed. Please run 'cargo install cargo-audit' so that vulnerabilities can be detected.
Executing: cargo build --target wasm32-unknown-unknown --release -p worker --locked
warning: /workspaces/DataMatrix/Cargo.toml: unused manifest key: workspace.dev-dependencies
   Compiling worker v0.1.0 (/workspaces/DataMatrix/worker)
    Finished `release` profile [optimized] target(s) in 4.50s
Installed code for canister worker, with canister ID be2us-64aaa-aaaaa-qaabq-cai
Deployed canisters.
URLs:
  Backend canister via Candid interface:
    backend: http://127.0.0.1:4943/?canisterId=bd3sg-teaaa-aaaaa-qaaba-cai&id=bkyz2-fmaaa-aaaaa-qaaaq-cai
    llm: http://127.0.0.1:4943/?canisterId=bd3sg-teaaa-aaaaa-qaaba-cai&id=w36hm-eqaaa-aaaal-qr76a-cai
    worker: http://127.0.0.1:4943/?canisterId=bd3sg-teaaa-aaaaa-qaaba-cai&id=be2us-64aaa-aaaaa-qaabq-cai
âœ… Worker Canister ID: be2us-64aaa-aaaaa-qaabq-cai
Verifying Backend-Worker connection...
Verifying storage initialization...
Attempting manual storage initialization...
Current Identity: codespace_dev
Current Principal: cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae
Environment setup completed!

--- Preparing Test Data ---
Test data prepared

==========================================
MAIN MINTING TESTS (Backend + Worker)
==========================================

--- Test 1: Valid Complete Mint Flow ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"; metadata = vec { vec { 116; 101; 115; 116; 95; 109; 101; 116; 97; 100; 97; 116; 97; 95; 118; 97; 108; 105; 100; 95; 100; 97; 116; 97; 95; 102; 111; 114; 95; 116; 101; 115; 116; 105; 110; 103 } } })'
âœ“ Mint request executed
Response: (record { request_id = 1 : nat64 })
âœ“ Request ID: 1
Checking initial status...
Initial status: (opt variant { Completed = 1 : nat64 })
Waiting for processing...
Status after 2s: (opt variant { Completed = 1 : nat64 })
âœ“ Minting completed successfully! Token ID: 1
Verifying token in worker canister...
âœ“ Token verified in worker: (
  opt record {
    cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG";
    owner = principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae";
    metadata = vec { blob "test_metadata_valid_data_for_testing" };
  },
)
âœ… PASS: Valid Complete Mint Flow

--- Test 2: Second Valid Mint ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "QmSecondValidCID123456789012345678901234567890"; metadata = vec { vec { 115; 101; 99; 111; 110; 100; 95; 118; 97; 108; 105; 100; 95; 109; 101; 116; 97; 100; 97; 116; 97; 95; 116; 101; 115; 116 } } })'
âœ“ Mint request executed
Response: (record { request_id = 2 : nat64 })
âœ“ Request ID: 2
Checking initial status...
Initial status: (opt variant { Completed = 2 : nat64 })
Waiting for processing...
Status after 2s: (opt variant { Completed = 2 : nat64 })
âœ“ Minting completed successfully! Token ID: 2
Verifying token in worker canister...
âœ“ Token verified in worker: (
  opt record {
    cid = "QmSecondValidCID123456789012345678901234567890";
    owner = principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae";
    metadata = vec { blob "second_valid_metadata_test" };
  },
)
âœ… PASS: Second Valid Mint

--- Test 3: Empty CID Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = ""; metadata = vec { vec { 116; 101; 115; 116; 95; 109; 101; 116; 97; 100; 97; 116; 97; 95; 118; 97; 108; 105; 100; 95; 100; 97; 116; 97; 95; 102; 111; 114; 95; 116; 101; 115; 116; 105; 110; 103 } } })'
âœ“ Mint request executed
Response: (record { request_id = 3 : nat64 })
âœ“ Request ID: 3
Checking initial status...
Initial status: (opt variant { Failed = "CIDê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤" })
Waiting for processing...
Status after 2s: (opt variant { Failed = "CIDê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤" })
âœ“ Expected failure: Failed = "CIDê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤"
âœ… PASS: Empty CID Test

--- Test 4: Empty Metadata Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"; metadata = vec {} })'
âœ“ Mint request executed
Response: (record { request_id = 4 : nat64 })
âœ“ Request ID: 4
Checking initial status...
Initial status: (opt variant { Failed = "ë©”íƒ€ë°ì´í„°ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤" })
Waiting for processing...
Status after 2s: (opt variant { Failed = "ë©”íƒ€ë°ì´í„°ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤" })
âœ“ Expected failure: Failed = "ë©”íƒ€ë°ì´í„°ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤"
âœ… PASS: Empty Metadata Test

--- Test 5: Short Metadata Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"; metadata = vec { vec { 116; 101; 115; 116 } } })'
âœ“ Mint request executed
Response: (record { request_id = 5 : nat64 })
âœ“ Request ID: 5
Checking initial status...
Initial status: (
  opt variant {
    Failed = "ë©”íƒ€ë°ì´í„° 0ì˜ ë‚´ìš©ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤. ìµœì†Œ 10ë°”ì´íŠ¸ í•„ìš”"
  },
)
Waiting for processing...
Status after 2s: (
  opt variant {
    Failed = "ë©”íƒ€ë°ì´í„° 0ì˜ ë‚´ìš©ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤. ìµœì†Œ 10ë°”ì´íŠ¸ í•„ìš”"
  },
)
âœ“ Expected failure: Failed = "ë©”íƒ€ë°ì´í„° 0ì˜ ë‚´ìš©ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤. ìµœì†Œ 10ë°”ì´íŠ¸ í•„ìš”"
âœ… PASS: Short Metadata Test

--- Test 6: Invalid CID Format Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "invalid_cid_format"; metadata = vec { vec { 116; 101; 115; 116; 95; 109; 101; 116; 97; 100; 97; 116; 97; 95; 118; 97; 108; 105; 100; 95; 100; 97; 116; 97; 95; 102; 111; 114; 95; 116; 101; 115; 116; 105; 110; 103 } } })'
âœ“ Mint request executed
Response: (record { request_id = 6 : nat64 })
âœ“ Request ID: 6
Checking initial status...
Initial status: (opt variant { Failed = "ìœ íš¨í•˜ì§€ ì•Šì€ CID í˜•ì‹ì…ë‹ˆë‹¤" })
Waiting for processing...
Status after 2s: (opt variant { Failed = "ìœ íš¨í•˜ì§€ ì•Šì€ CID í˜•ì‹ì…ë‹ˆë‹¤" })
âœ“ Expected failure: Failed = "ìœ íš¨í•˜ì§€ ì•Šì€ CID í˜•ì‹ì…ë‹ˆë‹¤"
âœ… PASS: Invalid CID Format Test

--- Test 7: Short CID Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "QmShort123"; metadata = vec { vec { 116; 101; 115; 116; 95; 109; 101; 116; 97; 100; 97; 116; 97; 95; 118; 97; 108; 105; 100; 95; 100; 97; 116; 97; 95; 102; 111; 114; 95; 116; 101; 115; 116; 105; 110; 103 } } })'
âœ“ Mint request executed
Response: (record { request_id = 7 : nat64 })
âœ“ Request ID: 7
Checking initial status...
Initial status: (opt variant { Failed = "ìœ íš¨í•˜ì§€ ì•Šì€ CID í˜•ì‹ì…ë‹ˆë‹¤" })
Waiting for processing...
Status after 2s: (opt variant { Failed = "ìœ íš¨í•˜ì§€ ì•Šì€ CID í˜•ì‹ì…ë‹ˆë‹¤" })
âœ“ Expected failure: Failed = "ìœ íš¨í•˜ì§€ ì•Šì€ CID í˜•ì‹ì…ë‹ˆë‹¤"
âœ… PASS: Short CID Test

--- Test 8: Long CID Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "Qmaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"; metadata = vec { vec { 116; 101; 115; 116; 95; 109; 101; 116; 97; 100; 97; 116; 97; 95; 118; 97; 108; 105; 100; 95; 100; 97; 116; 97; 95; 102; 111; 114; 95; 116; 101; 115; 116; 105; 110; 103 } } })'
âœ“ Mint request executed
Response: (record { request_id = 8 : nat64 })
âœ“ Request ID: 8
Checking initial status...
Initial status: (opt variant { Failed = "CIDê°€ ë„ˆë¬´ ê¹ë‹ˆë‹¤. ìµœëŒ€ 100ì, í˜„ì¬ 102ì" })
Waiting for processing...
Status after 2s: (opt variant { Failed = "CIDê°€ ë„ˆë¬´ ê¹ë‹ˆë‹¤. ìµœëŒ€ 100ì, í˜„ì¬ 102ì" })
âœ“ Expected failure: Failed = "CIDê°€ ë„ˆë¬´ ê¹ë‹ˆë‹¤. ìµœëŒ€ 100ì, í˜„ì¬ 102ì"
âœ… PASS: Long CID Test

--- Test 9: Excessive Metadata Test ---
Executing: dfx canister call backend request_mint '(record { owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae"; cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"; metadata = vec { vec { 116; 101; 115; 116; 1; 1; 1; 1; 1; 1; 1; 1; 1; 1 }; vec { 116; 101; 115; 116; 2; 2; 2; 2; 2; 2; 2; 2; 2; 2 }; vec { 116; 101; 115; 116; 3; 3; 3; 3; 3; 3; 3; 3; 3; 3 }; vec { 116; 101; 115; 116; 4; 4; 4; 4; 4; 4; 4; 4; 4; 4 }; vec { 116; 101; 115; 116; 5; 5; 5; 5; 5; 5; 5; 5; 5; 5 }; vec { 116; 101; 115; 116; 6; 6; 6; 6; 6; 6; 6; 6; 6; 6 }; vec { 116; 101; 115; 116; 7; 7; 7; 7; 7; 7; 7; 7; 7; 7 }; vec { 116; 101; 115; 116; 8; 8; 8; 8; 8; 8; 8; 8; 8; 8 }; vec { 116; 101; 115; 116; 9; 9; 9; 9; 9; 9; 9; 9; 9; 9 }; vec { 116; 101; 115; 116; 10; 10; 10; 10; 10; 10; 10; 10; 10; 10 }; vec { 116; 101; 115; 116; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11 }; vec { 116; 101; 115; 116; 12; 12; 12; 12; 12; 12; 12; 12; 12; 12 }; vec { 116; 101; 115; 116; 13; 13; 13; 13; 13; 13; 13; 13; 13; 13 }; vec { 116; 101; 115; 116; 14; 14; 14; 14; 14; 14; 14; 14; 14; 14 }; vec { 116; 101; 115; 116; 15; 15; 15; 15; 15; 15; 15; 15; 15; 15 }; vec { 116; 101; 115; 116; 16; 16; 16; 16; 16; 16; 16; 16; 16; 16 }; vec { 116; 101; 115; 116; 17; 17; 17; 17; 17; 17; 17; 17; 17; 17 }; vec { 116; 101; 115; 116; 18; 18; 18; 18; 18; 18; 18; 18; 18; 18 }; vec { 116; 101; 115; 116; 19; 19; 19; 19; 19; 19; 19; 19; 19; 19 }; vec { 116; 101; 115; 116; 20; 20; 20; 20; 20; 20; 20; 20; 20; 20 }; vec { 116; 101; 115; 116; 21; 21; 21; 21; 21; 21; 21; 21; 21; 21 }; vec { 116; 101; 115; 116; 22; 22; 22; 22; 22; 22; 22; 22; 22; 22 }; vec { 116; 101; 115; 116; 23; 23; 23; 23; 23; 23; 23; 23; 23; 23 }; vec { 116; 101; 115; 116; 24; 24; 24; 24; 24; 24; 24; 24; 24; 24 }; vec { 116; 101; 115; 116; 25; 25; 25; 25; 25; 25; 25; 25; 25; 25 }; vec { 116; 101; 115; 116; 26; 26; 26; 26; 26; 26; 26; 26; 26; 26 }; vec { 116; 101; 115; 116; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27 }; vec { 116; 101; 115; 116; 28; 28; 28; 28; 28; 28; 28; 28; 28; 28 }; vec { 116; 101; 115; 116; 29; 29; 29; 29; 29; 29; 29; 29; 29; 29 }; vec { 116; 101; 115; 116; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30 }; vec { 116; 101; 115; 116; 31; 31; 31; 31; 31; 31; 31; 31; 31; 31 }; vec { 116; 101; 115; 116; 32; 32; 32; 32; 32; 32; 32; 32; 32; 32 }; vec { 116; 101; 115; 116; 33; 33; 33; 33; 33; 33; 33; 33; 33; 33 }; vec { 116; 101; 115; 116; 34; 34; 34; 34; 34; 34; 34; 34; 34; 34 }; vec { 116; 101; 115; 116; 35; 35; 35; 35; 35; 35; 35; 35; 35; 35 }; vec { 116; 101; 115; 116; 36; 36; 36; 36; 36; 36; 36; 36; 36; 36 }; vec { 116; 101; 115; 116; 37; 37; 37; 37; 37; 37; 37; 37; 37; 37 }; vec { 116; 101; 115; 116; 38; 38; 38; 38; 38; 38; 38; 38; 38; 38 }; vec { 116; 101; 115; 116; 39; 39; 39; 39; 39; 39; 39; 39; 39; 39 }; vec { 116; 101; 115; 116; 40; 40; 40; 40; 40; 40; 40; 40; 40; 40 }; vec { 116; 101; 115; 116; 41; 41; 41; 41; 41; 41; 41; 41; 41; 41 }; vec { 116; 101; 115; 116; 42; 42; 42; 42; 42; 42; 42; 42; 42; 42 }; vec { 116; 101; 115; 116; 43; 43; 43; 43; 43; 43; 43; 43; 43; 43 }; vec { 116; 101; 115; 116; 44; 44; 44; 44; 44; 44; 44; 44; 44; 44 }; vec { 116; 101; 115; 116; 45; 45; 45; 45; 45; 45; 45; 45; 45; 45 }; vec { 116; 101; 115; 116; 46; 46; 46; 46; 46; 46; 46; 46; 46; 46 }; vec { 116; 101; 115; 116; 47; 47; 47; 47; 47; 47; 47; 47; 47; 47 }; vec { 116; 101; 115; 116; 48; 48; 48; 48; 48; 48; 48; 48; 48; 48 }; vec { 116; 101; 115; 116; 49; 49; 49; 49; 49; 49; 49; 49; 49; 49 }; vec { 116; 101; 115; 116; 50; 50; 50; 50; 50; 50; 50; 50; 50; 50 }; vec { 116; 101; 115; 116; 51; 51; 51; 51; 51; 51; 51; 51; 51; 51 }; vec { 116; 101; 115; 116; 52; 52; 52; 52; 52; 52; 52; 52; 52; 52 }; vec { 116; 101; 115; 116; 53; 53; 53; 53; 53; 53; 53; 53; 53; 53 }; vec { 116; 101; 115; 116; 54; 54; 54; 54; 54; 54; 54; 54; 54; 54 }; vec { 116; 101; 115; 116; 55; 55; 55; 55; 55; 55; 55; 55; 55; 55 }; vec { 116; 101; 115; 116; 56; 56; 56; 56; 56; 56; 56; 56; 56; 56 }; vec { 116; 101; 115; 116; 57; 57; 57; 57; 57; 57; 57; 57; 57; 57 }; vec { 116; 101; 115; 116; 58; 58; 58; 58; 58; 58; 58; 58; 58; 58 }; vec { 116; 101; 115; 116; 59; 59; 59; 59; 59; 59; 59; 59; 59; 59 }; vec { 116; 101; 115; 116; 60; 60; 60; 60; 60; 60; 60; 60; 60; 60 }; vec { 116; 101; 115; 116; 61; 61; 61; 61; 61; 61; 61; 61; 61; 61 }; vec { 116; 101; 115; 116; 62; 62; 62; 62; 62; 62; 62; 62; 62; 62 }; vec { 116; 101; 115; 116; 63; 63; 63; 63; 63; 63; 63; 63; 63; 63 }; vec { 116; 101; 115; 116; 64; 64; 64; 64; 64; 64; 64; 64; 64; 64 }; vec { 116; 101; 115; 116; 65; 65; 65; 65; 65; 65; 65; 65; 65; 65 }; vec { 116; 101; 115; 116; 66; 66; 66; 66; 66; 66; 66; 66; 66; 66 }; vec { 116; 101; 115; 116; 67; 67; 67; 67; 67; 67; 67; 67; 67; 67 }; vec { 116; 101; 115; 116; 68; 68; 68; 68; 68; 68; 68; 68; 68; 68 }; vec { 116; 101; 115; 116; 69; 69; 69; 69; 69; 69; 69; 69; 69; 69 }; vec { 116; 101; 115; 116; 70; 70; 70; 70; 70; 70; 70; 70; 70; 70 }; vec { 116; 101; 115; 116; 71; 71; 71; 71; 71; 71; 71; 71; 71; 71 }; vec { 116; 101; 115; 116; 72; 72; 72; 72; 72; 72; 72; 72; 72; 72 }; vec { 116; 101; 115; 116; 73; 73; 73; 73; 73; 73; 73; 73; 73; 73 }; vec { 116; 101; 115; 116; 74; 74; 74; 74; 74; 74; 74; 74; 74; 74 }; vec { 116; 101; 115; 116; 75; 75; 75; 75; 75; 75; 75; 75; 75; 75 }; vec { 116; 101; 115; 116; 76; 76; 76; 76; 76; 76; 76; 76; 76; 76 }; vec { 116; 101; 115; 116; 77; 77; 77; 77; 77; 77; 77; 77; 77; 77 }; vec { 116; 101; 115; 116; 78; 78; 78; 78; 78; 78; 78; 78; 78; 78 }; vec { 116; 101; 115; 116; 79; 79; 79; 79; 79; 79; 79; 79; 79; 79 }; vec { 116; 101; 115; 116; 80; 80; 80; 80; 80; 80; 80; 80; 80; 80 }; vec { 116; 101; 115; 116; 81; 81; 81; 81; 81; 81; 81; 81; 81; 81 }; vec { 116; 101; 115; 116; 82; 82; 82; 82; 82; 82; 82; 82; 82; 82 }; vec { 116; 101; 115; 116; 83; 83; 83; 83; 83; 83; 83; 83; 83; 83 }; vec { 116; 101; 115; 116; 84; 84; 84; 84; 84; 84; 84; 84; 84; 84 }; vec { 116; 101; 115; 116; 85; 85; 85; 85; 85; 85; 85; 85; 85; 85 }; vec { 116; 101; 115; 116; 86; 86; 86; 86; 86; 86; 86; 86; 86; 86 }; vec { 116; 101; 115; 116; 87; 87; 87; 87; 87; 87; 87; 87; 87; 87 }; vec { 116; 101; 115; 116; 88; 88; 88; 88; 88; 88; 88; 88; 88; 88 }; vec { 116; 101; 115; 116; 89; 89; 89; 89; 89; 89; 89; 89; 89; 89 }; vec { 116; 101; 115; 116; 90; 90; 90; 90; 90; 90; 90; 90; 90; 90 }; vec { 116; 101; 115; 116; 91; 91; 91; 91; 91; 91; 91; 91; 91; 91 }; vec { 116; 101; 115; 116; 92; 92; 92; 92; 92; 92; 92; 92; 92; 92 }; vec { 116; 101; 115; 116; 93; 93; 93; 93; 93; 93; 93; 93; 93; 93 }; vec { 116; 101; 115; 116; 94; 94; 94; 94; 94; 94; 94; 94; 94; 94 }; vec { 116; 101; 115; 116; 95; 95; 95; 95; 95; 95; 95; 95; 95; 95 }; vec { 116; 101; 115; 116; 96; 96; 96; 96; 96; 96; 96; 96; 96; 96 }; vec { 116; 101; 115; 116; 97; 97; 97; 97; 97; 97; 97; 97; 97; 97 }; vec { 116; 101; 115; 116; 98; 98; 98; 98; 98; 98; 98; 98; 98; 98 }; vec { 116; 101; 115; 116; 99; 99; 99; 99; 99; 99; 99; 99; 99; 99 }; vec { 116; 101; 115; 116; 100; 100; 100; 100; 100; 100; 100; 100; 100; 100 }; vec { 116; 101; 115; 116; 101; 101; 101; 101; 101; 101; 101; 101; 101; 101 }; } })'
âœ“ Mint request executed
Response: (record { request_id = 9 : nat64 })
âœ“ Request ID: 9
Checking initial status...
Initial status: (
  opt variant {
    Failed = "ë©”íƒ€ë°ì´í„° ê°œìˆ˜ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ìµœëŒ€ 100ê°œ, í˜„ì¬ 101ê°œ"
  },
)
Waiting for processing...
Status after 2s: (
  opt variant {
    Failed = "ë©”íƒ€ë°ì´í„° ê°œìˆ˜ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ìµœëŒ€ 100ê°œ, í˜„ì¬ 101ê°œ"
  },
)
âœ“ Expected failure: Failed = "ë©”íƒ€ë°ì´í„° ê°œìˆ˜ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ìµœëŒ€ 100ê°œ, í˜„ì¬ 101ê°œ"
âœ… PASS: Excessive Metadata Test

==========================================
WORKER INTEGRATION TESTS
==========================================

--- Test 10: List All Tokens from Worker ---
âœ… PASS: List All Tokens from Worker
Output: (vec { 1 : nat64; 2 : nat64 })

--- Test 11: Get Token Info from Worker ---
âœ… PASS: Get Token Info from Worker
Output: (
  opt record {

--- Direct Worker Canister Test ---
âœ… PASS: Direct Worker Mint Test
Direct worker response: (variant { Ok = record { token_id = 3 : nat64 } })

==========================================
SYSTEM STATE TESTS
==========================================

--- Test 13: Backend Storage Stats ---
âœ… PASS: Backend Storage Stats
Output: (
  record {

--- Test 14: List All Mint Requests ---
âœ… PASS: List All Mint Requests
Output: (
  vec {

--- Test 15: Check Data Minted Status ---
âœ… PASS: Check Data Minted Status
Output: (false)

--- Cross-System Verification ---
Worker tokens: 3
Backend completed mints: 2
âœ… PASS: Cross-System Verification

==========================================
FINAL SYSTEM STATE
==========================================
Backend Storage Statistics:
(
  record {
    storage_size = 74 : nat64;
    completed_mints = 2 : nat64;
    total_mint_requests = 9 : nat64;

Total Tokens in Worker:
Count: 3

Recent Mint Requests (last 3):
      status = variant { Failed = "CIDê°€ ë„ˆë¬´ ê¹ë‹ˆë‹¤. ìµœëŒ€ 100ì, í˜„ì¬ 102ì" };
      owner = opt principal "cbiuz-j33n3-dnnin-evekz-de36m-pg57b-yke5q-c4lpd-znavy-24ca3-mae";
      timestamp = 1_753_429_276_495_321_227 : nat64;
    };
    record {
      cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG";
      request_id = 9 : nat64;
      status = variant {
        Failed = "ë©”íƒ€ë°ì´í„° ê°œìˆ˜ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ìµœëŒ€ 100ê°œ, í˜„ì¬ 101ê°œ"
      };

Sample Token from Worker:
(
  opt record {
    cid = "QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG";

========================================
COMPLETE INTEGRATION TEST RESULTS
========================================
Total Tests: 16
Passed: 16
Failed: 0

Success Rate: 100%

Detailed Results:
  PASS: Valid Complete Mint Flow
  PASS: Second Valid Mint
  PASS: Empty CID Test
  PASS: Empty Metadata Test
  PASS: Short Metadata Test
  PASS: Invalid CID Format Test
  PASS: Short CID Test
  PASS: Long CID Test
  PASS: Excessive Metadata Test
  PASS: List All Tokens from Worker
  PASS: Get Token Info from Worker
  PASS: Direct Worker Mint Test
  PASS: Backend Storage Stats
  PASS: List All Mint Requests
  PASS: Check Data Minted Status
  PASS: Cross-System Verification

ğŸ‰ COMPLETE INTEGRATION TEST PASSED!
âœ… Backend validation system working correctly
âœ… Worker canister integration successful
âœ… End-to-end minting flow operational

--- Cleanup ---
Cleanup completed
